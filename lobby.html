<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lobby - DnD System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* р╕кр╣Др╕Хр╕ер╣Мр╣Ар╕кр╕гр╕┤р╕бр╣Ар╕ер╣Зр╕Бр╕Щр╣Йр╕нр╕в */
        body { padding: 30px; }
    </style>
</head>
<body>

    <div class="lobby-header">
        <div class="user-info">
            <img id="lobbyAvatar" class="user-avatar" src="" style="display:none;">
            <div>
                <span style="font-size:0.8em; color:#aaa; font-weight:400;">Logged in as:</span><br>
                <span id="userEmail" style="color:#ffb700; font-weight:600;">Loading...</span>
            </div>
        </div>

        <div style="display:flex; gap: 5px;">
            <a href="rules-guide.html"><button class="nav-btn">ЁЯУЦ р╕Др╕╣р╣Ир╕бр╕╖р╕н</button></a>
            <a href="profile.html"><button class="nav-btn">ЁЯСд р╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М</button></a>
            <a href="change-password.html"><button class="nav-btn">ЁЯФС р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ</button></a>
            <button onclick="logoutUser()" class="nav-btn btn-logout">ЁЯЪк р╕нр╕нр╕Б</button>
        </div>
    </div>

    <h1 class="panel-title" style="border:none; font-size:2.5em; margin-bottom:40px;">DnD LOBBY CENTER</h1>

    <div class="lobby-grid">
        
        <div class="glass-panel">
            <h2 class="panel-title">Control Panel</h2>

            <div style="margin-bottom: 30px;">
                <h4 style="color:#ddd; margin-bottom:10px;">ЁЯЫбя╕П р╕кр╕гр╣Йр╕▓р╕Зр╕лр╣Йр╕нр╕Зр╣Гр╕лр╕бр╣И (DM)</h4>
                <input type="text" id="roomName" class="glass-input" placeholder="р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╕лр╣Йр╕нр╕З...">
                <input type="password" id="roomPassword" class="glass-input" placeholder="р╕гр╕лр╕▒р╕кр╣Ар╕Вр╣Йр╕▓р╕лр╣Йр╕нр╕З (р╕зр╣Ир╕▓р╕З=р╕кр╕▓р╕Шр╕▓р╕гр╕Ур╕░)">
                <input type="password" id="dmPassword" class="glass-input" placeholder="р╕Хр╕▒р╣Йр╕Зр╕гр╕лр╕▒р╕к DM Panel (р╕кр╕│р╕Др╕▒р╕Н!)"> 
                <button onclick="createRoom()" class="action-btn btn-create">тЬи р╕кр╕гр╣Йр╕▓р╕Зр╕лр╣Йр╕нр╕З</button>
            </div>

            <div style="border-top:1px dashed rgba(255,255,255,0.1); padding-top:20px;">
                <h4 style="color:#ddd; margin-bottom:10px;">ЁЯЪк р╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕бр╕Фр╣Йр╕зр╕в ID</h4>
                <input type="text" id="roomIdInput" class="glass-input" placeholder="р╕Бр╕гр╕нр╕Б ID р╕лр╣Йр╕нр╕З (р╣Ар╕Кр╣Ир╕Щ 107360)">
                <button onclick="joinRoomSelection()" class="action-btn btn-join">ЁЯЪА р╣Ар╕Вр╣Йр╕▓р╕гр╣Ир╕зр╕бр╕лр╣Йр╕нр╕З</button>
            </div>
        </div>

        <div class="glass-panel">
            <h2 class="panel-title">Server List <small style="font-size:0.5em; color:#aaa;">(Live)</small></h2>
            <ul id="publicRoomsList">
                <li style="text-align:center; padding:30px; color:#666;">р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Ф...</li>
            </ul>
        </div>

    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <script src="Javascript/firebase-init.js"></script>
    <script src="Javascript/ui-helpers.js"></script>
    <script src="Javascript/auth.js"></script>
    <script src="Javascript/lobby.js"></script>

</body>
</html>